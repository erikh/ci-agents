package {{ .Package }}

import (
  "github.com/tinyci/ci-agents/errors"
  "github.com/tinyci/ci-agents/handlers"

  "github.com/gin-gonic/gin"
)

// This file was generated by the swagger tool.
// Editing this file might prove futile when you re-run the swagger generate command

// {{ pascalize .Name }}Response responds for {{ pascalize .Name }}.
func {{ .Name }}Response(h *handlers.H, ctx *gin.Context, resp interface{}, code int, err error) *errors.Error {
  var isError bool 
  switch err := err.(type) {
  case *errors.Error:
    if err != nil {
      isError = true
    }
  case error:
    if err != nil {
      isError = true
    }
  default:
  }

  if isError {
    h.LogError(err, ctx, code)
    return errors.New(err)
  }

  {{ if not (index .Extensions "x-websocket") }}
  ctx.JSON(code, resp)
  {{ end }}
  return nil
}
